<html>
    <head>
        <META NAME="viewport" CONTENT="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
        <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=UTF-8" />
        <script type="text/javascript" src="js/luna.js" ></script>
        <style>
            body {
                background-color: green;
            }
        </style>
        <script>
            (function(){
                var luna = new Luna();
                luna.addEventListener( "ready", function(){

                	var webview = luna.getMainWebview();
                    var eventId;

                	btn.addEventListener("click", function(){
                        luna.debug("listening....")
                        webview.addEventListener("message", function(message){
                        	luna.debug(message)
                        }).then(function(eventId){
                            eventId = eventId;
                        });
                    });

                    btnstop.addEventListener("click", function(){
                        luna.debug("removing....")
                        webview.removeEventListener( "message", eventId ).then(function(result){
                            luna.debug( "webview.removeEventListener: message " + result );
                         },function(error){
                            luna.debug( "webview.removeEventListener: message " + error );
                         });
                    });
                });
            })();
        </script>
    </head>
    <body>
        HELLO WORLD
        <button id="btn">LISTEN</button><button id="btnstop">STOP</button>
        <div class="debug"></div>
    </body>
 </html>